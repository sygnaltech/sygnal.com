{
  "version": 3,
  "sources": ["../src/lesson.ts"],
  "sourcesContent": ["\n// ORIGIN \n// https://codepen.io/memetican/pen/yLEvrpx/cc50a552fdadbde41e0a8eeba9e95101\n\nconst initLesson = () => {\n\n\n    // Article hotkeys\n    window['sa5'] = window['sa5'] || [];\n    window['sa5'].push(['hotkeys', \n    (hotkeyHandler) => {\n\n        // Edit - CTRL+SHIFT+E\n        hotkeyHandler.register(\"ctrl+shift+e\", () => {\n            location.href = '?edit';\n        });\n\n//         // Fallback Docs - CTRL+ALT+SHIFT+N\n//         hotkeyHandler.register(\"ctrl+alt+m\", () => { // ,  ctrl+shift+2 \n\n//             // TypeScript\n//             let docsUrl: string | null = document.querySelector(\"meta[name='page:notes:mindmap']\")?.getAttribute(\"content\") || null;\n\n//             console.log(\"ctrl+alt+m\"); \n\n//             if (docsUrl) {\n//                 window.open(docsUrl, \"_blank\");\n//             }\n\n//         });\n\n//         // CTRL+ALT+N\n//         hotkeyHandler.register(\"ctrl+alt+f\", () => { // , ctrl+shift+1\n            \n//             console.log(\"ctrl+alt+f\"); \n\n//             // JavaScript\n//             var docsUrl = document.querySelector(\"meta[name='page:notes:folder']\")?.getAttribute(\"content\");\n\n//         //        var docsUrl =\n//         //    $(\"meta[name='sygnal:docs']\").attr(\"content\"); \n//         //       || $(\"meta[name='sygnal:docs:fallback']\").attr(\"content\"); \n\n//             console.log(`docsUrl = ${docsUrl}`); \n        \n//             if (docsUrl)\n//                 window.open(docsUrl, \"_blank\");\n//             else\n//                 alert(\"No Notes Doc defined.\");           \n// //            window.location.href = `/search`;\n//         }); \n\n//         // CTRL+ALT+N\n//         hotkeyHandler.register(\"ctrl+alt+n\", () => { // , ctrl+shift+1\n            \n//             console.log(\"ctrl+alt+n\"); \n\n//             // JavaScript\n//             var docsUrl = document.querySelector(\"meta[name='page:notes:mindmap']\")?.getAttribute(\"content\");\n\n//         //        var docsUrl =\n//         //    $(\"meta[name='sygnal:docs']\").attr(\"content\"); \n//         //       || $(\"meta[name='sygnal:docs:fallback']\").attr(\"content\"); \n\n//             console.log(`docsUrl = ${docsUrl}`); \n        \n//             if (docsUrl)\n//                 window.open(docsUrl, \"_blank\");\n//             else\n//                 alert(\"No Notes Doc defined.\");           \n// //            window.location.href = `/search`;\n//         });\n\n    }]);\n\n\n\n\n// CTRL key change CSS flag? \n// if depressed for 250ms? \n\n\n    const daysRecent: number = 60; \n\n    // Find poster video overrides and apply them\n    const elements = document.querySelectorAll(`script[type='course-info']`);\n    elements.forEach((element) => {\n\n        var data = JSON.parse(element.innerHTML);\n      \n        const lesson = element.closest(\".course-item\");\n        if (lesson == null)\n            return; // continue \n\n        console.log(`status ${data.status}`); \n        \n        if(data.status === \"work-in-progress\") {\n          \n            lesson.classList.add(\"syg-u-work-in-progress\");\n\n            const label = lesson.querySelector(\".course-item-label-text\");\n            if (label != null) {\n                label.innerHTML = \"WIP\";\n                label.classList.remove(\"w-dyn-bind-empty\");\n            }\n\n        } else if(data.dateUpdated) {\n\n            const dt: Date = new Date(data.dateUpdated);\n            const time: number = new Date().getTime() - dt.getTime();\n            const days: number = time / (1000 * 3600 * 24); \n//            console.log (`days since created ${days}`);\n                        \n            if (days <= daysRecent) {\n\n                lesson.classList.add(\"syg-u-new\"); // syg-u-updated\n\n                const label = lesson.querySelector(\".course-item-label-text\");\n                if (label != null) {\n                    label.innerHTML = \"REV\";\n                    label.classList.remove(\"w-dyn-bind-empty\");\n                }\n\n            }\n          \n        } else if(data.dateCreated) {\n\n            const dt: Date = new Date(data.dateCreated);\n            const time: number = new Date().getTime() - dt.getTime();\n            const days: number = time / (1000 * 3600 * 24); \n//            console.log (`days since created ${days}`);\n            \n            if (days <= daysRecent) {\n\n                lesson.classList.add(\"syg-u-new\"); // syg-u-updated\n\n                const label = lesson.querySelector(\".course-item-label-text\");\n                if (label != null) {\n                    label.innerHTML = \"NEW\";\n                    label.classList.remove(\"w-dyn-bind-empty\");\n                }\n\n            }\n          \n        }\n\n    }); \n\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", initLesson)\n\n"],
  "mappings": "MAIA,IAAMA,EAAa,IAAM,CAIrB,OAAO,IAAS,OAAO,KAAU,CAAC,EAClC,OAAO,IAAO,KAAK,CAAC,UACnBC,GAAkB,CAGfA,EAAc,SAAS,eAAgB,IAAM,CACzC,SAAS,KAAO,OACpB,CAAC,CA0DL,CAAC,CAAC,EASF,IAAMC,EAAqB,GAGV,SAAS,iBAAiB,4BAA4B,EAC9D,QAASC,GAAY,CAE1B,IAAIC,EAAO,KAAK,MAAMD,EAAQ,SAAS,EAEvC,IAAME,EAASF,EAAQ,QAAQ,cAAc,EAC7C,GAAIE,GAAU,MAKd,GAFA,QAAQ,IAAI,UAAUD,EAAK,QAAQ,EAEhCA,EAAK,SAAW,mBAAoB,CAEnCC,EAAO,UAAU,IAAI,wBAAwB,EAE7C,IAAMC,EAAQD,EAAO,cAAc,yBAAyB,EACxDC,GAAS,OACTA,EAAM,UAAY,MAClBA,EAAM,UAAU,OAAO,kBAAkB,EAGjD,SAAUF,EAAK,YAAa,CAExB,IAAMG,EAAW,IAAI,KAAKH,EAAK,WAAW,EAK1C,IAJqB,IAAI,KAAK,EAAE,QAAQ,EAAIG,EAAG,QAAQ,IAC1B,IAAO,KAAO,KAG/BL,EAAY,CAEpBG,EAAO,UAAU,IAAI,WAAW,EAEhC,IAAMC,EAAQD,EAAO,cAAc,yBAAyB,EACxDC,GAAS,OACTA,EAAM,UAAY,MAClBA,EAAM,UAAU,OAAO,kBAAkB,EAGjD,CAEJ,SAAUF,EAAK,YAAa,CAExB,IAAMG,EAAW,IAAI,KAAKH,EAAK,WAAW,EAK1C,IAJqB,IAAI,KAAK,EAAE,QAAQ,EAAIG,EAAG,QAAQ,IAC1B,IAAO,KAAO,KAG/BL,EAAY,CAEpBG,EAAO,UAAU,IAAI,WAAW,EAEhC,IAAMC,EAAQD,EAAO,cAAc,yBAAyB,EACxDC,GAAS,OACTA,EAAM,UAAY,MAClBA,EAAM,UAAU,OAAO,kBAAkB,EAGjD,CAEJ,EAEJ,CAAC,CAEL,EAEA,SAAS,iBAAiB,mBAAoBN,CAAU",
  "names": ["initLesson", "hotkeyHandler", "daysRecent", "element", "data", "lesson", "label", "dt"]
}
